<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    *{
      margin: 0;
      padding: 0;
    }
    #box {
      width: 300px;
      height: 300px;
      margin: 0 auto;
      background-color: skyblue;
    }
    ul {
      position: absolute;
      top: 0;
      left: 0;
      display: none;
      background-color: pink;
      width: 100px;
    }
    ul li {

      line-height: 32px;
      text-align: center;
      list-style: none;
    }
    li:hover {
      background-color: red;
      color: #fff;
    }
  </style>
</head>
<body>
  <div id="box">

  </div>
  <ul class="menu">
    <li>新建</li>
    <li>保存</li>
    <li>复制</li>
    <li>黏贴</li>
  </ul>

  <script>
    var box = document.getElementById('box')
    var menu = document.querySelector('.menu')

    box.oncontextmenu = function(e) {
      e = e || window.event
      e.preventDefault?e.preventDefault():e.returnValue = false
      menu.style.display = 'block'
      var left = e.pageX+'px'
      var top = e.pageY+'px'
      menu.style.left = left
      menu.style.top = top
      e.stopPropagation?e.stopPropagation():e.cancleBuble = true;

    }

    menu.onclick = function(e) {
      e = window.event || e
      var target = e.target || e.srcElement
      if (target.nodeName = 'LI') {
        console.log(target.innerHTML);
      }
    }

    window.onclick  = window.oncontextmenu = function() {
      menu.style.display = 'none'
    }
    // window.oncontextmenu = function() {
    //   menu.style.display = 'none'
    // }
    
  </script>
  
</body>
</html>